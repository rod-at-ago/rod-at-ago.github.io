jQuery(function($){$('body > header button').click(function(e){$('html').toggleClass('menu');e.preventDefault();});$('body > .team .slides').slick({focusOnSelect:true,variableWidth:true});$('body > .filter').headroom();$(window).bind('hashchange',function(){var locationhash=window.location.hash;var hashsubstr=locationhash.substr(1);var split=hashsubstr.split('/');var hash=split[0];var subhash=split[1];if(subhash&&hash=='anchor'){$('html, body').animate({scrollTop:$('body > section[data-anchor="'+subhash+'"]').offset().top},1000);}else if(subhash&&hash=='services'){$('html, body').animate({scrollTop:$('body > .services article[data-services="'+subhash+'"]').offset().top},1000);}}).trigger('hashchange');$('body > section:first-of-type').each(function(){var colour=$(this).data('colour');$('html').attr('id',colour);});var sections=$('body > section').waypoint(function(direction){if(direction==='down'){var waypoint=this.element;}else{var previousWaypoint=this.previous();if(previousWaypoint){var waypoint=previousWaypoint.element;}}
if(waypoint){var colour=$(waypoint).data('colour');$('html').attr('id',colour);}});var sliders=$('body > section').waypoint(function(direction){if(direction==='down'){var waypoint=this.element;}else{var previousWaypoint=this.previous();if(previousWaypoint){var waypoint=previousWaypoint.element;}}
if(waypoint){var colour=$(waypoint).data('colour');$('body > .slider').attr('id','slider-'+colour);}},{offset:'100%'});var waypoints=$('body > .services article').waypoint(function(direction){if(direction==='down'){var waypoint=this.element;}else{var previousWaypoint=this.previous();if(previousWaypoint){var waypoint=previousWaypoint.element;}}
if(waypoint){var services=$(waypoint).data('services');var title=$(waypoint).data('title');var current=$('body > .services > h1').text();if(title&&(title!=current)){$('body > .filter ul li a[href="#services/'+services+'"]').parent().addClass('on').siblings().removeClass('on');$('body > .services').prepend('<h1 class="prepend">'+title+'</h1>');$('body > .services > h1:first-child').stop(true,true).fadeIn('fast');$('body > .services > h1:not(:first-child)').stop(true,true).fadeOut('fast',function(){$(this).remove();});}}});var slider=$('#slider-vertical').slider({orientation:"vertical",range:"min",min:-100,max:0,change:function(event,ui){if(event.originalEvent){var docHeight=$(document).height();var winHeight=$(window).height();var scrollPercent=Math.abs(ui.value);var scrollTop=(((docHeight-winHeight)/100*scrollPercent));$('html, body').animate({scrollTop:scrollTop},0);}}});$(window).scroll(function(e){var scrollTop=$(window).scrollTop();var docHeight=$(document).height();var winHeight=$(window).height();var scrollPercent=(scrollTop)/(docHeight-winHeight);var scrollPercentRounded=Math.round(scrollPercent*100);$('#slider-vertical').slider("value",-Math.abs(scrollPercentRounded));});$('body > .news-listing').infiniteScroll({append:'article',path:'body > .news-listing footer a',hideNav:'body > .news-listing footer'});$('body > .in-the-media').infiniteScroll({append:'article',path:'body > .in-the-media footer a',hideNav:'body > .in-the-media footer'});$(document).on('click','body > .news-share ol li.facebook a',function(e){var url=$(this).attr('href');FB.ui({method:'feed',link:url});e.preventDefault();});});$(window).on('load',function(){setTimeout(function(){$('#loading').stop(true,true).fadeOut(1000,function(){$(this).remove();});},2000);});